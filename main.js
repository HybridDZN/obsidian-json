/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => JsonEditorPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  filePath: ""
};
var VIEW_TYPE_JSON_EDITOR = "json-editor-view";
var JsonEditorPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(VIEW_TYPE_JSON_EDITOR, (leaf) => {
      const view = new JsonEditorView(leaf, this);
      return view;
    });
    this.addRibbonIcon("file", "Open JSON Editor", async () => {
      this.activateView();
    });
    this.addSettingTab(new JsonEditorSettingTab(this.app, this));
  }
  onunload() {
    this.app.workspace.detachLeavesOfType(VIEW_TYPE_JSON_EDITOR);
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async activateView() {
    this.app.workspace.detachLeavesOfType(VIEW_TYPE_JSON_EDITOR);
    await this.app.workspace.getLeaf(true).setViewState({
      type: VIEW_TYPE_JSON_EDITOR,
      active: true
    });
    this.app.workspace.revealLeaf(
      this.app.workspace.getLeavesOfType(VIEW_TYPE_JSON_EDITOR)[0]
    );
  }
};
var JsonEditorView = class extends import_obsidian.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.jsonData = null;
    this.filePath = "";
    this.plugin = plugin;
  }
  getViewType() {
    return VIEW_TYPE_JSON_EDITOR;
  }
  getDisplayText() {
    return "JSON Editor";
  }
  async onOpen() {
    const { contentEl } = this;
    const fileButton = contentEl.createEl("button", {
      text: "Open JSON File"
    });
    fileButton.onclick = async () => {
      if (!("showOpenFilePicker" in window)) {
        new import_obsidian.Notice("File picker not supported in this browser.");
        return;
      }
      const fileHandle = await window.showOpenFilePicker();
      if (fileHandle && fileHandle.length > 0) {
        const file = await fileHandle[0].getFile();
        this.filePath = file.name;
        const fileContent = await file.text();
        try {
          this.jsonData = JSON.parse(fileContent);
          new import_obsidian.Notice("File loaded successfully!");
          this.displayEditor();
        } catch (e) {
          new import_obsidian.Notice("Invalid JSON file.");
        }
      }
    };
  }
  displayEditor() {
    const { contentEl } = this;
    contentEl.empty();
    const createFields = (data, parentEl) => {
      const sortedKeys = Object.keys(data).sort();
      sortedKeys.forEach((key) => {
        const value = data[key];
        if (typeof value === "object" && value !== null) {
          const details = parentEl.createEl("details");
          const summary = details.createEl("summary", { text: key });
          createFields(value, details);
        } else {
          new import_obsidian.Setting(parentEl).setName(key).addText(
            (text) => text.setValue(String(value)).onChange((newValue) => {
              data[key] = newValue;
            })
          );
        }
      });
    };
    if (this.jsonData && typeof this.jsonData === "object") {
      createFields(this.jsonData, contentEl);
      new import_obsidian.Notice("JSON data displayed successfully!");
    } else {
      new import_obsidian.Notice("No valid JSON data to display.");
    }
    const saveButton = contentEl.createEl("button", {
      text: "Save Changes"
    });
    saveButton.onclick = async () => {
      const confirmSave = confirm(
        "Are you sure you wish to save changes?"
      );
      if (confirmSave) {
        try {
          if (!("showSaveFilePicker" in window)) {
            new import_obsidian.Notice(
              "Save file picker not supported in this browser."
            );
            return;
          }
          const newFileHandle = await window.showSaveFilePicker({
            suggestedName: this.filePath,
            types: [
              {
                description: "JSON Files",
                accept: { "application/json": [".json"] }
              }
            ]
          });
          const writable = await newFileHandle.createWritable();
          await writable.write(
            new Blob([JSON.stringify(this.jsonData, null, 2)], {
              type: "application/json"
            })
          );
          await writable.close();
          new import_obsidian.Notice("File saved successfully!");
        } catch (e) {
          console.error("Error saving file:", e);
          new import_obsidian.Notice("Failed to save the file.");
        }
      }
    };
  }
  async onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var JsonEditorSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Default JSON File Path").setDesc("Set the default path for JSON files").addText(
      (text) => text.setPlaceholder("Enter the file path").setValue(this.plugin.settings.filePath).onChange(async (value) => {
        this.plugin.settings.filePath = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcclxuXHRBcHAsXHJcblx0Tm90aWNlLFxyXG5cdFBsdWdpbixcclxuXHRQbHVnaW5TZXR0aW5nVGFiLFxyXG5cdFNldHRpbmcsXHJcblx0V29ya3NwYWNlTGVhZixcclxuXHRJdGVtVmlldywgLy8gRW5zdXJlIHRoaXMgaW1wb3J0IGlzIHByZXNlbnRcclxufSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbi8vIERlZmluZSBwbHVnaW4gc2V0dGluZ3NcclxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xyXG5cdGZpbGVQYXRoOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15UGx1Z2luU2V0dGluZ3MgPSB7XHJcblx0ZmlsZVBhdGg6IFwiXCIsXHJcbn07XHJcblxyXG5jb25zdCBWSUVXX1RZUEVfSlNPTl9FRElUT1IgPSBcImpzb24tZWRpdG9yLXZpZXdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEpzb25FZGl0b3JQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBNeVBsdWdpblNldHRpbmdzO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdC8vIFJlZ2lzdGVyIHRoZSBjdXN0b20gdmlld1xyXG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX0pTT05fRURJVE9SLCAobGVhZjogV29ya3NwYWNlTGVhZikgPT4ge1xyXG5cdFx0XHRjb25zdCB2aWV3ID0gbmV3IEpzb25FZGl0b3JWaWV3KGxlYWYsIHRoaXMpO1xyXG5cdFx0XHRyZXR1cm4gdmlldztcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEFkZCByaWJib24gaWNvbiB0byB0cmlnZ2VyIHRoZSBKU09OIGVkaXRvclxyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKFwiZmlsZVwiLCBcIk9wZW4gSlNPTiBFZGl0b3JcIiwgYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmFjdGl2YXRlVmlldygpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gQWRkIHNldHRpbmcgdGFiIGZvciBwbHVnaW4gY29uZmlndXJhdGlvbiAoaWYgbmVlZGVkIGxhdGVyKVxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBKc29uRWRpdG9yU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9KU09OX0VESVRPUik7XHJcblx0fVxyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcclxuXHRcdFx0e30sXHJcblx0XHRcdERFRkFVTFRfU0VUVElOR1MsXHJcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9KU09OX0VESVRPUik7XHJcblxyXG5cdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSkuc2V0Vmlld1N0YXRlKHtcclxuXHRcdFx0dHlwZTogVklFV19UWVBFX0pTT05fRURJVE9SLFxyXG5cdFx0XHRhY3RpdmU6IHRydWUsXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfSlNPTl9FRElUT1IpWzBdXHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQ3VzdG9tIHZpZXcgZm9yIEpTT04gZWRpdGluZ1xyXG5jbGFzcyBKc29uRWRpdG9yVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuXHRwbHVnaW46IEpzb25FZGl0b3JQbHVnaW47XHJcblx0anNvbkRhdGE6IHVua25vd24gPSBudWxsO1xyXG5cdGZpbGVQYXRoID0gXCJcIjtcclxuXHJcblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBKc29uRWRpdG9yUGx1Z2luKSB7XHJcblx0XHRzdXBlcihsZWFmKTsgLy8gRW5zdXJlIHRoaXMgY2FsbHMgdGhlIHBhcmVudCBjb25zdHJ1Y3RvclxyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRnZXRWaWV3VHlwZSgpIHtcclxuXHRcdHJldHVybiBWSUVXX1RZUEVfSlNPTl9FRElUT1I7XHJcblx0fVxyXG5cclxuXHRnZXREaXNwbGF5VGV4dCgpIHtcclxuXHRcdHJldHVybiBcIkpTT04gRWRpdG9yXCI7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbk9wZW4oKSB7XHJcblx0XHRjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuXHJcblx0XHQvLyBBZGQgYnV0dG9uIHRvIGxvYWQgSlNPTiBmaWxlXHJcblx0XHRjb25zdCBmaWxlQnV0dG9uID0gY29udGVudEVsLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcclxuXHRcdFx0dGV4dDogXCJPcGVuIEpTT04gRmlsZVwiLFxyXG5cdFx0fSk7XHJcblx0XHRmaWxlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdC8vIERlZmluZSBhIHR5cGUgZm9yIHRoZSB3aW5kb3cgb2JqZWN0XHJcblx0XHRcdGludGVyZmFjZSBXaW5kb3dXaXRoRmlsZVBpY2tlciBleHRlbmRzIFdpbmRvdyB7XHJcblx0XHRcdFx0c2hvd09wZW5GaWxlUGlja2VyOiAoKSA9PiBQcm9taXNlPEZpbGVTeXN0ZW1GaWxlSGFuZGxlW10+O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDaGVjayBpZiBzaG93T3BlbkZpbGVQaWNrZXIgaXMgc3VwcG9ydGVkXHJcblx0XHRcdGlmICghKFwic2hvd09wZW5GaWxlUGlja2VyXCIgaW4gd2luZG93KSkge1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoXCJGaWxlIHBpY2tlciBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBVc2Ugd2luZG93LnNob3dPcGVuRmlsZVBpY2tlciBmb3IgZmlsZSBzZWxlY3Rpb25cclxuXHRcdFx0Y29uc3QgZmlsZUhhbmRsZSA9IGF3YWl0IChcclxuXHRcdFx0XHR3aW5kb3cgYXMgdW5rbm93biBhcyBXaW5kb3dXaXRoRmlsZVBpY2tlclxyXG5cdFx0XHQpLnNob3dPcGVuRmlsZVBpY2tlcigpO1xyXG5cdFx0XHRpZiAoZmlsZUhhbmRsZSAmJiBmaWxlSGFuZGxlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCBmaWxlID0gYXdhaXQgZmlsZUhhbmRsZVswXS5nZXRGaWxlKCk7XHJcblx0XHRcdFx0dGhpcy5maWxlUGF0aCA9IGZpbGUubmFtZTtcclxuXHRcdFx0XHRjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IGZpbGUudGV4dCgpO1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHR0aGlzLmpzb25EYXRhID0gSlNPTi5wYXJzZShmaWxlQ29udGVudCk7XHJcblx0XHRcdFx0XHRuZXcgTm90aWNlKFwiRmlsZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5IVwiKTtcclxuXHRcdFx0XHRcdHRoaXMuZGlzcGxheUVkaXRvcigpO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJJbnZhbGlkIEpTT04gZmlsZS5cIik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheUVkaXRvcigpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Ly8gRnVuY3Rpb24gdG8gY3JlYXRlIGNvbGxhcHNpYmxlIGZpZWxkcyBmb3IgSlNPTiB2YWx1ZXNcclxuXHRcdGNvbnN0IGNyZWF0ZUZpZWxkcyA9IChcclxuXHRcdFx0ZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXHJcblx0XHRcdHBhcmVudEVsOiBIVE1MRWxlbWVudFxyXG5cdFx0KSA9PiB7XHJcblx0XHRcdC8vIFNvcnQga2V5cyBhbHBoYWJldGljYWxseVxyXG5cdFx0XHRjb25zdCBzb3J0ZWRLZXlzID0gT2JqZWN0LmtleXMoZGF0YSkuc29ydCgpO1xyXG5cclxuXHRcdFx0c29ydGVkS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcclxuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IGRhdGFba2V5XTtcclxuXHRcdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsKSB7XHJcblx0XHRcdFx0XHRjb25zdCBkZXRhaWxzID0gcGFyZW50RWwuY3JlYXRlRWwoXCJkZXRhaWxzXCIpO1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3VtbWFyeSA9IGRldGFpbHMuY3JlYXRlRWwoXCJzdW1tYXJ5XCIsIHsgdGV4dDoga2V5IH0pO1xyXG5cdFx0XHRcdFx0Y3JlYXRlRmllbGRzKHZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBkZXRhaWxzKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0bmV3IFNldHRpbmcocGFyZW50RWwpLnNldE5hbWUoa2V5KS5hZGRUZXh0KCh0ZXh0KSA9PlxyXG5cdFx0XHRcdFx0XHR0ZXh0LnNldFZhbHVlKFN0cmluZyh2YWx1ZSkpLm9uQ2hhbmdlKChuZXdWYWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGRhdGFba2V5XSA9IG5ld1ZhbHVlO1xyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBDcmVhdGUgZmllbGRzIGZvciB0aGUgSlNPTiBkYXRhXHJcblx0XHRpZiAodGhpcy5qc29uRGF0YSAmJiB0eXBlb2YgdGhpcy5qc29uRGF0YSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0XHRjcmVhdGVGaWVsZHModGhpcy5qc29uRGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgY29udGVudEVsKTtcclxuXHRcdFx0bmV3IE5vdGljZShcIkpTT04gZGF0YSBkaXNwbGF5ZWQgc3VjY2Vzc2Z1bGx5IVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoXCJObyB2YWxpZCBKU09OIGRhdGEgdG8gZGlzcGxheS5cIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWRkIFNhdmUgYnV0dG9uIHdpdGggY29uZmlybWF0aW9uXHJcblx0XHRjb25zdCBzYXZlQnV0dG9uID0gY29udGVudEVsLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcclxuXHRcdFx0dGV4dDogXCJTYXZlIENoYW5nZXNcIixcclxuXHRcdH0pO1xyXG5cdFx0c2F2ZUJ1dHRvbi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRjb25zdCBjb25maXJtU2F2ZSA9IGNvbmZpcm0oXHJcblx0XHRcdFx0XCJBcmUgeW91IHN1cmUgeW91IHdpc2ggdG8gc2F2ZSBjaGFuZ2VzP1wiXHJcblx0XHRcdCk7XHJcblx0XHRcdGlmIChjb25maXJtU2F2ZSkge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHQvLyBEZWZpbmUgYSB0eXBlIGZvciB0aGUgd2luZG93IG9iamVjdFxyXG5cdFx0XHRcdFx0aW50ZXJmYWNlIFdpbmRvd1dpdGhTYXZlRmlsZVBpY2tlciBleHRlbmRzIFdpbmRvdyB7XHJcblx0XHRcdFx0XHRcdHNob3dTYXZlRmlsZVBpY2tlcjogKFxyXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnM6IFNhdmVGaWxlUGlja2VyT3B0aW9uc1xyXG5cdFx0XHRcdFx0XHQpID0+IFByb21pc2U8RmlsZVN5c3RlbUZpbGVIYW5kbGU+O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIENoZWNrIGlmIHNob3dTYXZlRmlsZVBpY2tlciBpcyBzdXBwb3J0ZWRcclxuXHRcdFx0XHRcdGlmICghKFwic2hvd1NhdmVGaWxlUGlja2VyXCIgaW4gd2luZG93KSkge1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKFxyXG5cdFx0XHRcdFx0XHRcdFwiU2F2ZSBmaWxlIHBpY2tlciBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIlxyXG5cdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gUHJvbXB0IHRoZSB1c2VyIHRvIGNob29zZSB3aGVyZSB0byBzYXZlIHRoZSBmaWxlXHJcblx0XHRcdFx0XHRjb25zdCBuZXdGaWxlSGFuZGxlID0gYXdhaXQgKFxyXG5cdFx0XHRcdFx0XHR3aW5kb3cgYXMgdW5rbm93biBhcyBXaW5kb3dXaXRoU2F2ZUZpbGVQaWNrZXJcclxuXHRcdFx0XHRcdCkuc2hvd1NhdmVGaWxlUGlja2VyKHtcclxuXHRcdFx0XHRcdFx0c3VnZ2VzdGVkTmFtZTogdGhpcy5maWxlUGF0aCxcclxuXHRcdFx0XHRcdFx0dHlwZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogXCJKU09OIEZpbGVzXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRhY2NlcHQ6IHsgXCJhcHBsaWNhdGlvbi9qc29uXCI6IFtcIi5qc29uXCJdIH0sXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdC8vIENyZWF0ZSBhIHdyaXRhYmxlIHN0cmVhbSBhbmQgd3JpdGUgdGhlIHVwZGF0ZWQgSlNPTiBkYXRhIHRvIHRoZSBmaWxlXHJcblx0XHRcdFx0XHRjb25zdCB3cml0YWJsZSA9IGF3YWl0IG5ld0ZpbGVIYW5kbGUuY3JlYXRlV3JpdGFibGUoKTtcclxuXHRcdFx0XHRcdGF3YWl0IHdyaXRhYmxlLndyaXRlKFxyXG5cdFx0XHRcdFx0XHRuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkodGhpcy5qc29uRGF0YSwgbnVsbCwgMildLCB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0YXdhaXQgd3JpdGFibGUuY2xvc2UoKTtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseSFcIik7XHJcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOlwiLCBlKTtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gc2F2ZSB0aGUgZmlsZS5cIik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBQbHVnaW4gc2V0dGluZ3MgdGFiIChvcHRpb25hbCBmb3IgbGF0ZXIpXHJcbmNsYXNzIEpzb25FZGl0b3JTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBKc29uRWRpdG9yUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBKc29uRWRpdG9yUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJEZWZhdWx0IEpTT04gRmlsZSBQYXRoXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiU2V0IHRoZSBkZWZhdWx0IHBhdGggZm9yIEpTT04gZmlsZXNcIilcclxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XHJcblx0XHRcdFx0dGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgdGhlIGZpbGUgcGF0aFwiKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpbGVQYXRoKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWxlUGF0aCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0fVxyXG59XHJcblxyXG5pbnRlcmZhY2UgU2F2ZUZpbGVQaWNrZXJPcHRpb25zIHtcclxuXHRzdWdnZXN0ZWROYW1lPzogc3RyaW5nO1xyXG5cdHR5cGVzPzogQXJyYXk8e1xyXG5cdFx0ZGVzY3JpcHRpb246IHN0cmluZztcclxuXHRcdGFjY2VwdDogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+O1xyXG5cdH0+O1xyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFRTztBQU9QLElB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
